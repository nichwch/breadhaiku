{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return factory(global, global.document);\n    });\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory(global, global.document);\n  } else {\n    global.normalize = factory(global, global.document);\n  }\n})(typeof window !== 'undefined' ? window : this, function (window, document) {\n  var charmap = require('./charmap');\n\n  var regex = null;\n  var current_charmap;\n  var old_charmap;\n\n  function normalize(str, custom_charmap) {\n    old_charmap = current_charmap;\n    current_charmap = custom_charmap || charmap;\n    regex = regex && old_charmap === current_charmap ? regex : buildRegExp(current_charmap);\n    return str.replace(regex, function (charToReplace) {\n      return current_charmap[charToReplace.charCodeAt(0)] || charToReplace;\n    });\n  }\n\n  function buildRegExp(charmap) {\n    return new RegExp('[' + Object.keys(charmap).map(function (code) {\n      return String.fromCharCode(code);\n    }).join(' ') + ']', 'g');\n  }\n\n  return normalize;\n});","map":null,"metadata":{},"sourceType":"script"}